<!DOCTYPE html>
<html lang=" en">
  <head>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://kit.fontawesome.com/500f51af92.js" crossorigin="anonymous"></script>
  </head><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Web Push Notification | Taak</title>
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="Web Push Notification" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Web push notification with ease on scale" />
<meta property="og:description" content="Web push notification with ease on scale" />
<link rel="canonical" href="https://docs.taakcloud.com/products/web-push-notification/" />
<meta property="og:url" content="https://docs.taakcloud.com/products/web-push-notification/" />
<meta property="og:site_name" content="Taak" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-01-24T08:08:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Web Push Notification" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-01-24T08:08:00+00:00","datePublished":"2023-01-24T08:08:00+00:00","description":"Web push notification with ease on scale","headline":"Web Push Notification","mainEntityOfPage":{"@type":"WebPage","@id":"https://docs.taakcloud.com/products/web-push-notification/"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://docs.taakcloud.com/appicon.svg"}},"url":"https://docs.taakcloud.com/products/web-push-notification/"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://docs.taakcloud.com/feed.xml" title="Taak" /></head>
<body class=""><header class="site-header" role="banner">

  <div class="wrapper"><section class="top-bar">
      <div class="logo"><a href="/"><svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="512.000000pt" height="512.000000pt"
  viewBox="0 0 512.000000 512.000000" preserveAspectRatio="xMidYMid meet">

  <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none">
    <path d="M2106 4536 c-30 -9 -61 -26 -81 -47 -33 -33 -195 -303 -195 -325 0
-19 38 -46 61 -42 18 2 42 37 109 153 67 115 93 152 116 162 20 8 92 12 229
13 l200 0 -3 -615 c-1 -416 1 -622 8 -635 13 -23 62 -27 79 -6 8 10 11 182 9
635 l-3 621 202 0 c200 0 202 0 231 -25 16 -13 62 -81 101 -150 65 -112 76
-125 100 -125 31 0 51 16 51 41 0 29 -139 262 -179 300 -27 26 -53 40 -90 48
-78 17 -880 14 -945 -3z" fill="#ffffff" />
    <path d="M1390 3760 c-157 -3 -293 -9 -302 -13 -21 -11 -45 -48 -209 -332
-161 -279 -162 -283 -97 -395 24 -41 95 -164 158 -273 74 -128 125 -207 145
-220 29 -21 41 -22 340 -25 327 -4 365 0 402 40 12 13 90 142 173 287 151 262
152 264 147 315 -4 43 -27 90 -152 306 -81 140 -157 265 -168 277 -19 21 -99
45 -135 41 -9 -1 -145 -5 -302 -8z m399 -65 c37 -39 314 -535 314 -563 0 -28
-276 -518 -314 -557 -19 -19 -35 -20 -329 -23 -255 -2 -314 0 -337 12 -35 18
-333 528 -333 570 0 35 263 497 313 549 l36 38 315 -3 c300 -3 316 -4 335 -23z" fill="#ffffff" />
    <path d="M3680 3761 c-240 -5 -290 -9 -310 -22 -14 -9 -58 -74 -99 -145 -237
-410 -241 -417 -241 -456 0 -52 7 -65 172 -347 85 -145 155 -253 171 -265 27
-20 40 -21 362 -21 323 0 334 1 362 21 27 20 261 410 325 541 26 55 28 67 19
95 -6 18 -80 152 -165 298 -110 191 -161 270 -182 282 -40 23 -87 25 -414 19z
m373 -55 c27 -11 54 -52 185 -278 102 -177 152 -275 152 -294 0 -20 -44 -106
-129 -254 -183 -317 -178 -309 -207 -320 -14 -6 -155 -10 -329 -10 -301 0
-304 0 -329 23 -14 12 -86 130 -162 262 -75 132 -141 245 -146 252 -25 31 -10
74 77 225 49 84 118 204 153 266 40 71 73 117 90 127 38 20 597 22 645 1z" fill="#ffffff" />
    <path d="M2523 3100 l-283 -5 -24 -25 c-36 -36 -325 -539 -332 -578 -5 -26 1
-48 28 -100 54 -108 269 -475 292 -501 43 -48 64 -51 388 -51 281 0 304 1 343
20 38 19 53 39 199 292 86 150 160 285 163 300 3 15 0 42 -6 59 -18 51 -299
534 -326 559 -25 24 -83 41 -130 38 -16 -2 -157 -5 -312 -8z m411 -70 c35 -36
316 -531 316 -556 0 -16 -227 -426 -300 -541 -26 -40 -49 -43 -364 -43 -288 0
-305 1 -329 20 -27 22 -318 518 -325 556 -5 28 274 523 320 567 l29 28 314 -3
315 -3 24 -25z" fill="#ffffff" />
    <path d="M1150 2443 c-80 -14 -70 -1 -271 -347 -156 -270 -160 -286 -107 -378
18 -31 89 -154 158 -273 81 -141 136 -225 155 -239 29 -20 42 -21 325 -24 162
-2 314 0 338 3 27 4 54 17 72 33 16 15 97 146 180 291 151 261 152 264 148
315 -4 44 -27 89 -159 315 -92 158 -165 273 -182 285 -27 20 -41 21 -330 22
-166 1 -313 0 -327 -3z m620 -56 c17 -8 67 -85 153 -232 156 -267 189 -333
181 -360 -10 -32 -294 -518 -315 -540 -19 -19 -35 -20 -329 -23 -255 -2 -314
0 -337 12 -35 18 -333 529 -333 570 0 38 298 554 330 571 35 20 612 21 650 2z" fill="#ffffff" />
    <path d="M3417 2441 c-21 -5 -47 -17 -57 -27 -17 -17 -264 -436 -312 -528 -41
-80 -23 -121 276 -623 47 -80 38 -78 412 -78 321 0 334 1 360 21 29 21 324
520 345 581 14 42 2 66 -179 378 -110 190 -146 244 -173 260 -32 19 -54 20
-334 22 -165 1 -317 -2 -338 -6z m641 -55 c36 -19 332 -529 332 -572 0 -20
-40 -99 -118 -235 -65 -112 -133 -230 -151 -262 -51 -90 -43 -88 -401 -85
-294 3 -310 4 -329 23 -21 22 -285 479 -307 532 -16 38 -17 37 170 361 88 152
137 227 155 237 38 21 609 22 649 1z" fill="#ffffff" />
    <path d="M2271 1780 c-18 -4 -44 -19 -57 -32 -35 -34 -323 -537 -330 -576 -5
-26 1 -48 28 -100 57 -112 269 -475 292 -501 43 -48 64 -51 388 -51 281 0 305
1 343 20 38 18 52 39 187 272 187 323 185 319 172 367 -6 21 -79 157 -163 303
-116 201 -160 269 -184 284 -29 17 -56 19 -337 21 -168 1 -320 -2 -339 -7z
m663 -70 c35 -36 316 -530 316 -556 0 -11 -40 -90 -88 -175 -49 -85 -115 -199
-146 -254 -32 -55 -69 -111 -82 -125 l-24 -25 -315 -3 -314 -3 -30 28 c-35 34
-321 530 -321 558 0 11 17 49 38 85 21 36 89 154 151 263 62 108 125 206 139
217 25 20 37 21 339 18 l313 -3 24 -25z" fill="#ffffff" />
  </g>
</svg></a></div>
      <a class="nav-toggle" id="open-nav" href="#">&#9776;</a>
<nav>
	
	

		
		<a href="/" class="">Documentation</a>
	
	

		
		<a href="/about/" class="">About</a>
	
</nav>

    </section>
    <section class="hero_search">
      <h1>Docs</h1>
      <p>Everything you need to know about using Taak APIs and services.</p>
      <form action="/search/" method="get">
	<input type="search" name="q"  placeholder="What would you like to know?" autofocus>
	<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>
	<input type="submit" value="Search" style="display: none;">
</form>
    </section>
  </div>
</header><main class="page-content content" aria-label="Content">
    <div class="wrapper">
      <section class="tutorial">
	<section class="sidebar sticky">
		<ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#prerequisites">Prerequisites</a></li>
<li class="toc-entry toc-h2"><a href="#taak-sdk-js">Taak SDK JS</a>
<ul>
<li class="toc-entry toc-h3"><a href="#check-permission">Check permission</a></li>
<li class="toc-entry toc-h3"><a href="#subscribe">Subscribe</a></li>
<li class="toc-entry toc-h3"><a href="#send">Send</a></li>
<li class="toc-entry toc-h3"><a href="#list">List</a></li>
<li class="toc-entry toc-h3"><a href="#delete">Delete</a></li>
<li class="toc-entry toc-h3"><a href="#test-suite">Test suite</a></li>
</ul>
</li>
</ul>
	</section>
	<section class="tutorial-content">
		<h1>Web Push Notification</h1>

		
		
		<div class="tutorial-main">
			<p>Send web push notification with ease and zero cost on scale.</p>

<h2 id="prerequisites">
<a class="anchor" href="#prerequisites" aria-hidden="true"><span class="octicon octicon-link"></span></a>Prerequisites</h2>

<ul class="task-list">
  <li class="task-list-item">
<input type="checkbox" class="task-list-item-checkbox" disabled checked>Select your app/workspace, see <a href="/getting-started/create-app/">Create app</a>
</li>
  <li class="task-list-item">
<input type="checkbox" class="task-list-item-checkbox" disabled checked>Get your API Key, see <a href="/getting-started/generate-api-key/">Generate API Key</a>
</li>
</ul>

<h2 id="taak-sdk-js">
<a class="anchor" href="#taak-sdk-js" aria-hidden="true"><span class="octicon octicon-link"></span></a>Taak SDK JS</h2>

<p>We use <a href="https://github.com/taakcloud/taak-sdk-js" target="_blank" rel="noopener noreferrer">Taak SDK JS <i class="fa-solid fa-arrow-up-right-from-square"></i></a> as client side library. Full source code is available at <a href="https://github.com/taakcloud/taak-web-push-example" target="_blank" rel="noopener noreferrer">here <i class="fa-solid fa-arrow-up-right-from-square"></i></a></p>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">npm i taak-sdk</code></pre></figure>

<p><br></p>

<h3 id="check-permission">
<a class="anchor" href="#check-permission" aria-hidden="true"><span class="octicon octicon-link"></span></a>Check permission</h3>

<p>Following code is for React library, but basically must work in both TypeScript and JavaScript projects.</p>
<details open=""><summary>Check if permission given</summary>

<figure class="highlight"><pre><code class="language-ts" data-lang="ts">  <span class="kd">const</span> <span class="nx">checkIfPermissionGiven</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="na">res</span><span class="p">:</span> <span class="nx">TaakResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">taakSdkClient</span><span class="p">.</span><span class="nx">checkIfPermissionGiven</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">data</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">denied</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">presentToast</span><span class="p">({</span>
          <span class="na">message</span><span class="p">:</span> <span class="s2">`Permission denied, you need to unblock </span><span class="p">${</span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">origin</span><span class="p">}</span><span class="s2"> in your browser to receive notifications.`</span><span class="p">,</span>
          <span class="na">duration</span><span class="p">:</span> <span class="mi">3000</span><span class="p">,</span>
          <span class="na">color</span><span class="p">:</span> <span class="dl">'</span><span class="s1">danger</span><span class="dl">'</span>
        <span class="p">})</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">presentToast</span><span class="p">({</span> <span class="na">message</span><span class="p">:</span> <span class="nx">res</span><span class="p">.</span><span class="nx">error</span><span class="p">,</span> <span class="na">color</span><span class="p">:</span> <span class="dl">'</span><span class="s1">danger</span><span class="dl">'</span><span class="p">,</span> <span class="na">duration</span><span class="p">:</span> <span class="mi">3000</span> <span class="p">})</span>
      <span class="p">}</span>
      <span class="nx">setWebPushEnabled</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span></code></pre></figure>

</details>
<p class="right"><a href="https://github.com/taakcloud/taak-web-push-example/blob/main/src/components/WebPushToggle.tsx#L19-L33" target="_blank" rel="noopener noreferrer">WebPushToggle.tsx <i class="fa-solid fa-arrow-up-right-from-square"></i></a></p>

<h3 id="subscribe">
<a class="anchor" href="#subscribe" aria-hidden="true"><span class="octicon octicon-link"></span></a>Subscribe</h3>

<details open=""><summary>Check if subscribed</summary>

<figure class="highlight"><pre><code class="language-ts" data-lang="ts">  <span class="kd">const</span> <span class="nx">checkIfSubscribed</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setInprogress</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
    <span class="kd">const</span> <span class="na">res</span><span class="p">:</span> <span class="nx">TaakResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">taakSdkClient</span><span class="p">.</span><span class="nx">checkIfSubscribed</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">presentToast</span><span class="p">({</span> <span class="na">message</span><span class="p">:</span> <span class="nx">res</span><span class="p">.</span><span class="nx">error</span><span class="p">,</span> <span class="na">color</span><span class="p">:</span> <span class="dl">'</span><span class="s1">danger</span><span class="dl">'</span><span class="p">,</span> <span class="na">duration</span><span class="p">:</span> <span class="mi">3000</span> <span class="p">})</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">await</span> <span class="nx">subscribe</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">setInprogress</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
  <span class="p">}</span></code></pre></figure>

</details>
<p class="right"><a href="https://github.com/taakcloud/taak-web-push-example/blob/main/src/components/WebPushSubscribeButton.tsx#L18-L27" target="_blank" rel="noopener noreferrer">WebPushSubscribeButton.tsx <i class="fa-solid fa-arrow-up-right-from-square"></i></a></p>

<details open=""><summary>Subscribe</summary>

<figure class="highlight"><pre><code class="language-ts" data-lang="ts">  <span class="kd">const</span> <span class="nx">subscribe</span> <span class="o">=</span> <span class="k">async</span> <span class="p">(</span><span class="nx">subscription</span><span class="p">:</span> <span class="nx">PushSubscription</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">subscriptionObject</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">subscription</span><span class="p">))</span>
    <span class="kd">const</span> <span class="na">cmd</span><span class="p">:</span> <span class="nx">WebPushSubscribeCommand</span> <span class="o">=</span> <span class="p">{</span>
      <span class="nx">userId</span><span class="p">,</span>
      <span class="na">deviceId</span><span class="p">:</span> <span class="s2">`</span><span class="p">${</span><span class="nx">osName</span><span class="p">}</span><span class="s2">::</span><span class="p">${</span><span class="nx">browserName</span><span class="p">}</span><span class="s2">::</span><span class="p">${</span><span class="nx">browserVersion</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
      <span class="na">endpoint</span><span class="p">:</span> <span class="nx">subscription</span><span class="p">.</span><span class="nx">endpoint</span><span class="p">,</span>
      <span class="na">key</span><span class="p">:</span> <span class="nx">subscriptionObject</span><span class="p">.</span><span class="nx">keys</span><span class="p">.</span><span class="nx">p256dh</span><span class="p">,</span>
      <span class="na">auth</span><span class="p">:</span> <span class="nx">subscriptionObject</span><span class="p">.</span><span class="nx">keys</span><span class="p">.</span><span class="nx">auth</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="kd">const</span> <span class="na">res</span><span class="p">:</span> <span class="nx">TaakResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">taakSdkClient</span><span class="p">.</span><span class="nx">subscribeWebPush</span><span class="p">(</span><span class="nx">cmd</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span> <span class="o">===</span> <span class="mi">201</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">presentToast</span><span class="p">({</span> <span class="na">message</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Success subscription</span><span class="dl">'</span><span class="p">,</span> <span class="na">color</span><span class="p">:</span> <span class="dl">'</span><span class="s1">success</span><span class="dl">'</span><span class="p">,</span> <span class="na">duration</span><span class="p">:</span> <span class="mi">3000</span> <span class="p">})</span>
      <span class="nx">onSuccess</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">else</span>
      <span class="nx">presentToast</span><span class="p">({</span> <span class="na">message</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Error subscribing </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">,</span> <span class="na">color</span><span class="p">:</span> <span class="dl">'</span><span class="s1">danger</span><span class="dl">'</span><span class="p">,</span> <span class="na">duration</span><span class="p">:</span> <span class="mi">3000</span> <span class="p">})</span>
  <span class="p">}</span></code></pre></figure>

</details>
<p class="right"><a href="https://github.com/taakcloud/taak-web-push-example/blob/main/src/components/WebPushSubscribeButton.tsx#L29-L45" target="_blank" rel="noopener noreferrer">WebPushSubscribeButton.tsx <i class="fa-solid fa-arrow-up-right-from-square"></i></a></p>

<h3 id="send">
<a class="anchor" href="#send" aria-hidden="true"><span class="octicon octicon-link"></span></a>Send</h3>

<details open=""><summary>Send web push</summary>

<figure class="highlight"><pre><code class="language-ts" data-lang="ts">  <span class="kd">const</span> <span class="nx">sendTest</span> <span class="o">=</span> <span class="k">async</span> <span class="p">(</span><span class="nx">item</span><span class="p">:</span> <span class="nx">WebPushDTO</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setSending</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
    <span class="kd">const</span> <span class="na">cmd</span><span class="p">:</span> <span class="nx">WebPushSendCommand</span> <span class="o">=</span> <span class="p">{</span>
      <span class="na">payload</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Hello World</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">publicId</span><span class="p">:</span> <span class="nx">item</span><span class="p">.</span><span class="nx">publicId</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="kd">const</span> <span class="na">res</span><span class="p">:</span> <span class="nx">TaakResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">taakSdkClient</span><span class="p">.</span><span class="nx">sendWebPush</span><span class="p">(</span><span class="nx">cmd</span><span class="p">)</span>
    <span class="nx">presentToast</span><span class="p">({</span> <span class="na">message</span><span class="p">:</span> <span class="s2">`Success sending push with status </span><span class="p">${</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span> <span class="na">duration</span><span class="p">:</span> <span class="mi">3000</span> <span class="p">})</span>
    <span class="nx">setSending</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
  <span class="p">}</span></code></pre></figure>

</details>
<p class="right"><a href="https://github.com/taakcloud/taak-web-push-example/blob/main/src/components/WebPushSubscriptionList.tsx#L28-L37" target="_blank" rel="noopener noreferrer">WebPushSubscriptionList.tsx <i class="fa-solid fa-arrow-up-right-from-square"></i></a></p>

<h3 id="list">
<a class="anchor" href="#list" aria-hidden="true"><span class="octicon octicon-link"></span></a>List</h3>

<details open=""><summary>Subscription list</summary>

<figure class="highlight"><pre><code class="language-ts" data-lang="ts">  <span class="kd">const</span> <span class="nx">fetchItems</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setInprogress</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
    <span class="kd">const</span> <span class="na">res</span><span class="p">:</span> <span class="nx">TaakResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">taakSdkClient</span><span class="p">.</span><span class="nx">getWebPushesByUserId</span><span class="p">(</span><span class="nx">userId</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span> <span class="o">===</span> <span class="mi">200</span><span class="p">)</span>
      <span class="nx">setItems</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span>
    <span class="nx">setInprogress</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
  <span class="p">}</span></code></pre></figure>

</details>
<p class="right"><a href="https://github.com/taakcloud/taak-web-push-example/blob/main/src/components/WebPushSubscriptionList.tsx#L20-L26" target="_blank" rel="noopener noreferrer">WebPushSubscriptionList.tsx <i class="fa-solid fa-arrow-up-right-from-square"></i></a></p>

<h3 id="delete">
<a class="anchor" href="#delete" aria-hidden="true"><span class="octicon octicon-link"></span></a>Delete</h3>

<details open=""><summary>Delete an subscription</summary>

<figure class="highlight"><pre><code class="language-ts" data-lang="ts">  <span class="kd">const</span> <span class="nx">deleteItem</span> <span class="o">=</span> <span class="k">async</span> <span class="p">(</span><span class="nx">item</span><span class="p">:</span> <span class="nx">WebPushDTO</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setDeleting</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
    <span class="kd">const</span> <span class="na">res</span><span class="p">:</span> <span class="nx">TaakResponse</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">taakSdkClient</span><span class="p">.</span><span class="nx">deleteWebPush</span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">publicId</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">status</span> <span class="o">===</span> <span class="mi">204</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">presentToast</span><span class="p">({</span> <span class="na">message</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Success deleting subscription</span><span class="dl">'</span><span class="p">,</span> <span class="na">duration</span><span class="p">:</span> <span class="mi">3000</span> <span class="p">})</span>
      <span class="k">await</span> <span class="nx">fetchItems</span><span class="p">()</span>
    <span class="p">}</span>
    <span class="nx">setDeleting</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
  <span class="p">}</span></code></pre></figure>

</details>
<p class="right"><a href="https://github.com/taakcloud/taak-web-push-example/blob/main/src/components/WebPushSubscriptionList.tsx#L39-L47" target="_blank" rel="noopener noreferrer">WebPushSubscriptionList.tsx <i class="fa-solid fa-arrow-up-right-from-square"></i></a></p>

<h3 id="test-suite">
<a class="anchor" href="#test-suite" aria-hidden="true"><span class="octicon octicon-link"></span></a>Test suite</h3>

<p><a href="https://github.com/taakcloud/taak-sdk-js/blob/main/src/web-push/index.test.ts" target="_blank" rel="noopener noreferrer">index.test.ts <i class="fa-solid fa-arrow-up-right-from-square"></i></a></p>

		</div>
		<div class="tutorial-share">
			<!--<a class="modalOpen no-smooth" href="#subscribe">
			<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/><path d="M0 0h24v24H0z" fill="none"/></svg>
		
 Subscribe</a>-->
			<a class="modalOpen no-smooth" href="#share">
			<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
				<path d="M0 0h24v24H0z" fill="none"/>
				<path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/>
			</svg>
		
 Share</a>
		</div>
	</section>
</section>


	
	
	
	<div class="tutorial-series">
		<h3>Products - Series</h3>
		<p>This series guides you through our products</p>

		<ul class="listing">
	
		<li class="active">
			<a href="/products/web-push-notification/">
				<div class="icon">
		<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
			<path d="M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"/>
			<path d="M0 0h24v24H0z" fill="none"/>
		</svg>
</div>
				<article>
					<div>
						<h3>1. Web Push Notification</h3>
						<p class="description">Web push notification with ease on scale</p>
					</div>
				</article>
			</a>
		</li>
	
</ul>
	</div>




	<div class="related">
		<h3>Related tutorials</h3>

		<ul class="listing">
	
		<li >
			<a href="/blog/go-serverless-and-save-the-planet/">
				<div class="icon">
		<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
			<path d="M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"/>
			<path d="M0 0h24v24H0z" fill="none"/>
		</svg>
</div>
				<article>
					<div>
						<h3>Go Serverless and save the planet</h3>
						<p class="description">Complete guide to self-host the Knative platform</p>
					</div>
				</article>
			</a>
		</li>
	
		<li >
			<a href="/getting-started/generate-api-key/">
				<div class="icon">
		<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
			<path d="M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"/>
			<path d="M0 0h24v24H0z" fill="none"/>
		</svg>
</div>
				<article>
					<div>
						<h3>Generate API Key</h3>
						<p class="description">Generate your first API Key</p>
					</div>
				</article>
			</a>
		</li>
	
		<li >
			<a href="/getting-started/create-app/">
				<div class="icon">
		<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
			<path d="M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"/>
			<path d="M0 0h24v24H0z" fill="none"/>
		</svg>
</div>
				<article>
					<div>
						<h3>Create App</h3>
						<p class="description">Create your first App</p>
					</div>
				</article>
			</a>
		</li>
	
</ul>
	</div>




<div id="subscribe" class="modalDialog">
	<div>
		<a title="Close" class="close">&times;</a>
		<form action="" method="post">
			<h2>Subscribe</h2>
			<p>The latest tutorials sent straight to your inbox.</p>
			<input type="email" name="EMAIL" placeholder="Email">
			<input type="submit" value="Sign up">
		</form>
	</div>
</div>

<div id="share" class="modalDialog sharing">
	<div>
		<a title="Close" class="close">&times;</a>
		<h2>Share</h2>
		<p>Share this tutorial with your community.</p>
		<ul>
			<li><a class="twitter" target="_blank" href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fdocs.taakcloud.com%2Fproducts%2Fweb-push-notification%2F">
	<svg class="twitter" height="24" viewBox="0 0 24 24" width="24"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg>
	
 Twitter</a></li>
			<li><a class="facebook" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdocs.taakcloud.com%2Fproducts%2Fweb-push-notification%2F">
		<svg class="facebook" xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="15.8 15.8 25 25"><path d="M32.8 24.7h-3.2v-2.1c0-0.8 0.5-1 0.9-1s2.3 0 2.3 0v-3.5l-3.1 0c-3.5 0-4.3 2.6-4.3 4.3v2.3h-2v3.6h2c0 4.6 0 10.2 0 10.2h4.2c0 0 0-5.6 0-10.2h2.8L32.8 24.7z"/></svg>
	
 Facebook</a></li>
			<li><a class="hacker-news" target="_blank" href="http://news.ycombinator.com/submitlink?u=https%3A%2F%2Fdocs.taakcloud.com%2Fproducts%2Fweb-push-notification%2F&t=Web%20Push%20Notification">
		<svg class="hacker-news" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M18.8 3.3c-0.4 0.8-5.6 11.1-5.6 11.2 0 2 0 6.2 0 6.2 -0.1 0-2.2 0-2.3 0 0 0 0-5.9 0-6.2 0 0-5.5-10.9-5.6-11.1C5.3 3.3 5.3 3.3 5.3 3.3 5.3 3.3 5.3 3.3 5.3 3.3c0 0 0 0 0.1 0 0.9 0 1.7 0 2.6 0 0 0 0 0 0 0.1 0.1 0.1 4 8.3 4.1 8.3 0 0 4.2-8.3 4.3-8.4 0.8 0 1.6 0 2.4 0 0 0 0 0 0 0C18.8 3.3 18.8 3.3 18.8 3.3z"/></svg>
	
 Hacker News</a></li>
		</ul>
	</div>
</div>

<script src="/js/main.js"></script>

<script>
	var headings = document.querySelectorAll("h2[id]");

	//console.log(headings);
	for (var i = 0; i < headings.length; i++) {
		var anchorLink = document.createElement("a");
		anchorLink.innerText = "#";
		anchorLink.href = "#" + headings[i].id;
		anchorLink.classList.add("header-link");

		headings[i].appendChild(anchorLink);
	}

	$(".modalOpen").click(function() {
		var id = $(this).attr("href");
		$(id).addClass("show");

		$(window).click(function() {
			$(".show").removeClass("show");
		});

		$(id + " > div").click(function(event){
			event.stopPropagation();
		});
		return false;
	});

	$(".close").click(function() {
		$(".show").removeClass("show");
		return false;
	});

	$(document).keyup(function(e) {
		if (e.keyCode == 27) {
			$(".show").removeClass("show");
		}
	});
</script>

    </div>
  </main><footer>
	<div class="wrapper">
		<ul class="footer-links">
			
				<li><a target="_blank" href="https://github.com/taakcloud" class="Github-icon">
					
						
	  <svg class="github" height="24" viewBox="0 0 24 24" width="24"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg>
	

					
					</a></li>
			
				<li><a target="_blank" href="https://twitter.com/taakcloud" class="Twitter-icon">
					
						
	<svg class="twitter" height="24" viewBox="0 0 24 24" width="24"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg>
	

					
					</a></li>
			
		</ul>
		<p class="copyright">&copy; 2023, <a style="color:unset" href='https://taakcloud.com'>Taakcloud.com</a></p>
	</div>
</footer><script>
    $(function() {
      $('a[href*=\\#]').not(".no-smooth").on('click', function(event){
        var el = $(this.hash);
        if (el.length > 0) {
          // event.preventDefault();
          $('html,body').animate({scrollTop:$(this.hash).offset().top - 50}, 500);
        }
      });

      $('svg').click(function() {
        $(this).parent('form').submit();
      });
    });

    document.getElementById("open-nav").addEventListener("click", function (event) {
      event.preventDefault();
      document.body.classList.toggle("nav-open");
    });
  </script>
  <script>

  var elements = document.querySelectorAll('p');
  Array.prototype.forEach.call(elements, function(el, i){
      if(el.innerHTML=='[expand]') {
          var parentcontent = el.parentNode.innerHTML.replace('<p>[expand]</p>','<div class="expand" style="display: none; height: 0; overflow: hidden;">').replace('<p>[/expand]</p>','</div>');
          el.parentNode.innerHTML = parentcontent;
      }
  });

  var elements = document.querySelectorAll('div.expand');
  Array.prototype.forEach.call(elements, function(el, i){
      el.previousElementSibling.innerHTML = el.previousElementSibling.innerHTML + '<span>..&nbsp; <a href="#" style="cursor: pointer;" onclick="this.parentNode.parentNode.nextElementSibling.style.display = \'block\'; this.parentNode.parentNode.nextElementSibling.style.height = \'auto\'; this.parentNode.style.display = \'none\';">read&nbsp;more&nbsp;&rarr;</a></span>';
  });

</script>
</body>

</html>